const fs = require("fs");
const path = require("path");

function getAllFiles(folder) {
    const files = [];
    for(const pathDir of fs.readdirSync(folder)) {
        const pathAbsolute = path.join(folder, pathDir);
        if (fs.statSync(pathAbsolute).isDirectory()) {
            files.push(...getAllFiles(pathAbsolute));
        } else {
            files.push(pathAbsolute);
        }
    }
    return files;
}

function toSnakeCase(str) {
    // Convert string to lower case and split into words
    const words = str.toLowerCase().split(/\s+/);

    // Join words together with underscores
    return words.join('_');
}

function toUpperCamelCase(str) {
    // Split string into words using whitespace, underscore or hyphen as separator
    // then capitalize first letter of each word
    const words = str.split(/[\s_-]+/).map(word => word.charAt(0).toUpperCase() + word.slice(1));

    // Join words together with no spaces
    return words.join('');
}

module.exports = {
    getAllFiles,
    toSnakeCase,
    toUpperCamelCase,
};