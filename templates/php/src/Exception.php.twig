<?php

namespace {{ spec.title | caseUcfirst }};

use Exception;

class {{spec.title | caseUcfirst}}Exception extends Exception {

  /**
   * @var mixed
   */
  private $response;

  /**
   * @var string
   */
  private $type;

  /**
   * @param String $message
   * @param int $code
   * @param mixed $response
   */
  public function __construct($message = null, $code = 0, $type = null, $response = null)
  {
      parent::__construct($message, $code);
      $this->response = $response;
      $this->type = $type;
  }

  /**
   * @return string
   */
  public function getType()
  {
      return $this->type;
  }
  
  /**
   * @return mixed
   */
  final public function getResponse()
  {
      return $this->response;
  }
}

{% if spec.definitions.appwriteException.errorTypes|length > 0 %}
class ErrorType {
{% for error in spec.definitions.appwriteException.errorTypes %}
    /**
    * {{ error.message }}
    */
    const {{ error.type|title|replace({'_': ''}) }} = '{{ error.type }}';
{% endfor %}
}
{% endif %}