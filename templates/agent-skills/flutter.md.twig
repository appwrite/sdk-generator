{% set lang = 'flutter' %}
{% set langName = 'Flutter' %}
{{ include('agent-skills/base/frontmatter.md.twig') }}

# {{ spec.title }} {{ langName }} SDK

{{ spec.title }}'s {{ langName }} SDK for building cross-platform mobile, web, and desktop apps with Dart. Provides client-side access to {{ spec.title }} services including authentication (email, OAuth), databases, storage (with native file handling), and real-time subscriptions using Dart's named parameter syntax.

## When to Apply

Reference this skill when:

- Building a Flutter app (mobile, web, or desktop) with {{ spec.title }}
- Adding user authentication (email/password, OAuth) to a Flutter app
- Performing CRUD operations on {{ spec.title }} databases from a Flutter client
- Uploading or previewing files using Flutter's native file handling
- Subscribing to real-time row changes for reactive UI updates
- Using {{ spec.title }} Query helpers to filter and paginate results

## Setting Up the Client

```dart
import 'package:{{ spec.title | caseLower }}/{{ spec.title | caseLower }}.dart';

final client = Client()
    .setEndpoint('{{ spec.endpoint }}')
    .setProject('[PROJECT_ID]');
```

## Code Examples

### Authentication

```dart
final account = Account(client);

// Signup
await account.create(userId: ID.unique(), email: 'user@example.com', password: 'password123', name: 'User Name');

// Login
final session = await account.createEmailPasswordSession(email: 'user@example.com', password: 'password123');

// OAuth login
await account.createOAuth2Session(provider: OAuthProvider.google);

// Get current user
final user = await account.get();

// Logout
await account.deleteSession(sessionId: 'current');
```

### Database Operations

> **Note:** Use `TablesDB` (not the deprecated `Databases` class) for all new code. Only use `Databases` if the existing codebase already relies on it or the user explicitly requests it.

```dart
final tablesDB = TablesDB(client);

// Create row
final doc = await tablesDB.createRow(
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    rowId: ID.unique(),
    data: {'title': 'Hello', 'done': false},
);

// Query rows
final results = await tablesDB.listRows(
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    queries: [Query.equal('done', false), Query.limit(10)],
);

// Update row
await tablesDB.updateRow(
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    rowId: '[ROW_ID]',
    data: {'done': true},
);

// Delete row
await tablesDB.deleteRow(
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    rowId: '[ROW_ID]',
);
```

### File Storage

```dart
final storage = Storage(client);

// Upload file
final file = await storage.createFile(
    bucketId: '[BUCKET_ID]',
    fileId: ID.unique(),
    file: InputFile.fromPath(path: '/path/to/file.png', filename: 'file.png'),
);

// Get file preview
final preview = storage.getFilePreview(bucketId: '[BUCKET_ID]', fileId: '[FILE_ID]', width: 300, height: 300);

// Delete file
await storage.deleteFile(bucketId: '[BUCKET_ID]', fileId: '[FILE_ID]');
```

### Real-time Subscriptions

```dart
final realtime = Realtime(client);

final subscription = realtime.subscribe(['databases.[DATABASE_ID].tables.[TABLE_ID].rows']);
subscription.stream.listen((response) {
    print(response.payload);
});

// Cleanup
subscription.close();
```

