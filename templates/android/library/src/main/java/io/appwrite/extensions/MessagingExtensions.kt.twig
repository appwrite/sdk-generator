package {{ sdk.namespace | caseDot }}.extensions

import {{ sdk.namespace | caseDot }}.models.Notification
import {{ sdk.namespace | caseDot }}.services.Messaging

private val callbacks: MutableList<(Notification) -> Unit> = mutableListOf()

internal fun onNotificationReceived(notification: Notification) {
    callbacks.forEach { it(notification) }
}

fun Messaging.onNotificationReceived(callback: (Notification) -> Unit) {
    callbacks.add(callback)
}