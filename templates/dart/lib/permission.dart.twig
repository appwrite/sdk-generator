part of {{ language.params.packageName }};

class Permission {
    final String permission;
    final Role role;

    Permission(this.permission, this.role);

    @override
    String toString() {
        return permission + '(' + role.toString() + ')';
    }

    static String read(String role) {
        return 'read("$role")';
    }
    static String write(String role) {
        return 'write("$role")';
    }
    static String create(String role) {
        return 'create("$role")';
    }
    static String update(String role) {
        return 'update("$role")';
    }
    static String delete(String role) {
        return 'delete("$role")';
    }

    static Permission parse(String permission) {
        final parts = permission.split('("');
        permission = parts[0];
        final fullRole = parts[1].replaceAll('")', '');
        final role = Role.parse(fullRole);

        return Permission(permission, role);
    }
}
