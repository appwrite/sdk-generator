        api_params = {}
{% if method.parameters.all | length %}
{% for parameter in method.parameters.all  %}
{% if parameter.required and not parameter.nullable %}
        if {{ parameter.name | escapeKeyword | caseSnake }} is None:
            raise {{spec.title | caseUcfirst}}Exception('Missing required parameter: "{{ parameter.name | escapeKeyword | caseSnake }}"')

{% endif %}
{% endfor %}
{% for parameter in method.parameters.path %}
        api_path = api_path.replace('{{ '{' }}{{ parameter.name | caseCamel }}{{ '}' }}', {{ parameter.name | escapeKeyword | caseSnake }})
{% endfor %}

{% for parameter in method.parameters.query %}
{% if not parameter.nullable and not parameter.required %}
        if {{ parameter.name | escapeKeyword | caseSnake }} is not None:
            api_params['{{ parameter.name }}'] = {{ parameter.name | escapeKeyword | caseSnake }}
{% else %}
        api_params['{{ parameter.name }}'] = {{ parameter.name | escapeKeyword | caseSnake }}
{% endif %}
{% endfor %}
{% for parameter in method.parameters.body|merge(method.parameters.formData|default([])) %}
{% set paramName = parameter.name | escapeKeyword | caseSnake %}
{% set isMultipart = method.consumes|length > 0 and method.consumes[0] == "multipart/form-data" %}
{% set formattedValue = paramName | formatParamValue(parameter.type, isMultipart) %}
{% if not parameter.nullable and not parameter.required %}
        if {{ paramName }} is not None:
            api_params['{{ parameter.name }}'] = {{ formattedValue }}
{% else %}
        api_params['{{ parameter.name }}'] = {{ formattedValue }}
{% endif %}
{% endfor %}
{% endif %}