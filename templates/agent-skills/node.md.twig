{% set lang = 'node' %}
{% set langName = 'Node.js' %}
{{ include('agent-skills/base/frontmatter.md.twig') }}

# {{ spec.title }} {{ langName }} SDK

{{ spec.title }}'s server-side {{ langName }} SDK for backend applications. Provides full administrative access to {{ spec.title }} services using API keys â€” manage users, databases, tables, rows, storage buckets, functions, and more. Supports both object-style and positional parameter syntax.

## When to Apply

Reference this skill when:

- Building a server-side Node.js or TypeScript backend with {{ spec.title }}
- Managing users, teams, or memberships programmatically with API keys
- Creating or administering databases, tables, and columns
- Performing server-side row CRUD and batch operations
- Uploading files from disk or buffer to {{ spec.title }} Storage
- Executing or managing {{ spec.title }} Functions from backend code

## Setting Up the Client

```typescript
import { Client, Users, TablesDB, Storage, Functions, ID, Query } from 'node-{{ spec.title | caseLower }}';

const client = new Client()
    .setEndpoint('{{ spec.endpoint }}')
    .setProject('[PROJECT_ID]')
    .setKey('[API_KEY]');
```

## Code Examples

### User Management

```typescript
const users = new Users(client);

// Create user
const user = await users.create({
    userId: ID.unique(),
    email: 'user@example.com',
    password: 'password123',
    name: 'User Name'
});

// List users
const list = await users.list({ queries: [Query.limit(25)] });

// Get user
const fetched = await users.get({ userId: '[USER_ID]' });

// Delete user
await users.delete({ userId: '[USER_ID]' });
```

### Database Operations

> **Note:** Use `TablesDB` (not the deprecated `Databases` class) for all new code. Only use `Databases` if the existing codebase already relies on it or the user explicitly requests it.

```typescript
const tablesDB = new TablesDB(client);

// Create database
const db = await tablesDB.create({ databaseId: ID.unique(), name: 'My Database' });

// Create table
const col = await tablesDB.createTable({
    databaseId: '[DATABASE_ID]',
    tableId: ID.unique(),
    name: 'My Table'
});

// Create string column
await tablesDB.createStringColumn({
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    key: 'title',
    size: 255,
    required: true
});

// Create row
const doc = await tablesDB.createRow({
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    rowId: ID.unique(),
    data: { title: 'Hello World' }
});

// Query rows
const results = await tablesDB.listRows({
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    queries: [Query.equal('title', 'Hello World'), Query.limit(10)]
});

// Update row
await tablesDB.updateRow({
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    rowId: '[ROW_ID]',
    data: { title: 'Updated' }
});

// Delete row
await tablesDB.deleteRow({
    databaseId: '[DATABASE_ID]',
    tableId: '[TABLE_ID]',
    rowId: '[ROW_ID]'
});
```

### File Storage

```typescript
import { InputFile } from 'node-{{ spec.title | caseLower }}/file';

const storage = new Storage(client);

// Upload file from path
const file = await storage.createFile({
    bucketId: '[BUCKET_ID]',
    fileId: ID.unique(),
    file: InputFile.fromPath('/path/to/file.png', 'file.png')
});

// Upload from buffer
const file2 = await storage.createFile({
    bucketId: '[BUCKET_ID]',
    fileId: ID.unique(),
    file: InputFile.fromBuffer(buffer, 'file.png')
});

// List files
const files = await storage.listFiles({ bucketId: '[BUCKET_ID]' });

// Delete file
await storage.deleteFile({ bucketId: '[BUCKET_ID]', fileId: '[FILE_ID]' });
```

### Serverless Functions

```typescript
const functions = new Functions(client);

// Execute function
const execution = await functions.createExecution({
    functionId: '[FUNCTION_ID]',
    body: JSON.stringify({ key: 'value' })
});

// List executions
const executions = await functions.listExecutions({ functionId: '[FUNCTION_ID]' });
```

