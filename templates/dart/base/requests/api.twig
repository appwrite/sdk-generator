{% import 'dart/base/utils.twig' as utils %}
        final Map<String, dynamic> apiParams = {
            {{ utils.map_parameter(method.parameters.query) }}
            {{ utils.map_parameter(method.parameters.body) }}
        };

        final Map<String, String> apiHeaders = {
            {{ utils.map_headers(method.headers) }}
        };

        final res = await client.call(HttpMethod.{{ method.method | caseLower }}, path: apiPath, params: apiParams, headers: apiHeaders);

{% if method.responseModel and method.responseModel != 'any' %}
{% set modelName = method.responseModel | caseUcfirst | overrideIdentifier %}
        {% if modelName == 'Document' %}
        return models.{{modelName}}.fromMap(res.data, fromJson);
        {% elseif modelName ends with 'List' %}
        return models.{{modelName}}.fromMap(res.data, fromJson);
        {% else %}
        return models.{{modelName}}.fromMap(res.data);
        {% endif %}
{% else %}
        return res.data;
{% endif %}